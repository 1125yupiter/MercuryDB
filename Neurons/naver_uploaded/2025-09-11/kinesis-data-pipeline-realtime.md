---

title: realtime-kinesis-data-pipeline
created: 2025-08-28
modified: 2025-08-28
tags:
- service/kinesis
- constraint/real-time
- usecase/predictive-model
- deployment/auto-scaling
- data/streaming
aliases: ["kinesis-streaming", "realtime-pipeline", "data-streams"]

---

# 실시간 데이터 파이프라인을 위한 Kinesis 아키텍처

## 🎯 핵심 포인트

실시간 사용자 데이터를 예측 모델에 활용하는 경우, Kinesis Data Streams + Analytics + Firehose + Lambda 조합에서 Auto Scaling Group과 함께 사용하여 확장 가능하고 비용 효율적인 스트리밍 파이프라인을 구축할 수 있다.

## 📝 설명

### Kinesis 기반 실시간 데이터 파이프라인이 적합한 이유

모바일 게임과 같은 대용량 실시간 데이터 처리가 필요한 환경에서는 단순한 배치 처리로는 비즈니스 요구사항을 충족하기 어렵다. Kinesis 생태계는 실시간 스트리밍 데이터 수집부터 복잡한 변환, 최종 저장까지의 전체 파이프라인을 관리형 서비스로 제공한다.

**핵심 구성요소별 역할:**
- **Kinesis Data Streams**: 실시간 데이터 수집 및 버퍼링
- **Kinesis Analytics**: 실시간 SQL 기반 데이터 필터링 및 분석  
- **Lambda**: 복잡한 데이터 변환 (플레이시간 → 문자열 등)
- **Kinesis Firehose**: 최종 S3 저장 및 배치 처리
- **Auto Scaling Group**: 트래픽 변화에 따른 자동 확장

### 아키텍처 플로우

```
Mobile Game Users
        ↓
EC2 Auto Scaling Group (Data Collection)
        ↓
Kinesis Data Streams (Real-time Ingestion)
        ↓
Kinesis Analytics (Filtering & Processing)
        ↓
Lambda (Data Transformation)
        ↓
Kinesis Firehose (Batch Delivery)
        ↓
S3 Bucket (Final Storage)
```

### Trade-offs 고려사항

**Kinesis 전체 파이프라인 장점**:
- 완전 관리형 서비스로 운영 부담 최소화
- Auto Scaling을 통한 탄력적 확장성
- 실시간 처리와 복잡한 비즈니스 로직 지원
- 각 구성요소의 독립적 확장 가능

**Kinesis 전체 파이프라인 단점**:
- 여러 서비스 조합으로 인한 복잡성 증가
- 단순한 ETL 대비 상대적으로 높은 비용
- 각 구성요소 간 지연시간 누적 가능성

**Firehose 단독 사용 장점**:
- 단순한 아키텍처와 낮은 운영 복잡성
- 기본적인 데이터 변환 기능 제공
- 상대적으로 저렴한 비용

**Firehose 단독 사용 단점**:
- 실시간 스트리밍 수집 능력 부족
- 복잡한 비즈니스 로직 처리 한계 (프리미엄 가입자 필터링 등)
- 예측 모델용 실시간 데이터 처리에 부적합

## 🔍 주요개념

### 실시간 vs 배치 처리

- **실시간 처리**: 데이터가 생성되는 즉시 처리하여 밀리초~초 단위 지연시간
- **배치 처리**: 일정 시간 간격으로 데이터를 모아서 처리하여 분~시간 단위 지연시간

### 실전 적용

- 모바일 게임 사용자 행동 분석을 통한 실시간 추천 시스템
- IoT 센서 데이터 실시간 수집 및 이상 탐지
- 전자상거래 실시간 사용자 세션 분석 및 개인화

## 📝 관련 문제

**Question:** You work for a software company that has developed a popular mobile gaming app that has a large, active user base. You want to run a predictive model on real-time data generated by the app users to see how to structure an upcoming marketing campaign. The data you need for the model is the user's age, location, and level of activity in the game as measured by playing time. You need to filter the data for users who have not yet signed up for your company's premium service. You'll also need to deliver your data in json format, convert the playing time into a string format, and finally put the data onto an S3 bucket. Which of the following is the simplest, most cost-effective, performant, and scalable way to architect this data pipeline?

**Options:**

- A) Create a Kinesis Data Streams application running on an EC2 instance that gathers the mobile user data from its log files; use Kinesis Analytics to transform the log data into the subset you need; connect the Kinesis Data Stream to a Kinesis Firehose which puts the data onto your S3 bucket.
- B) Create a Kinesis Data Streams application running on EC2 instances in an Auto Scaling Group that gathers the mobile user data from its log files; use Kinesis Analytics to transform the log data into the subset you need; connect Kinesis Data Analytics to a Kinesis Firehose which uses a lambda function to convert the playing time; Kinesis Firehose then puts the data onto your S3 bucket.
- C) Create a Kinesis Firehose which gathers the data and puts it onto your S3 bucket.
- D) Create a Kinesis Data Streams application running on EC2 instances in an Auto Scaling Group that gathers the mobile user data from its log files and puts it onto your S3 bucket.

**정답: B) Kinesis Data Streams + Auto Scaling + Analytics + Lambda + Firehose**

💡 추가 설명:

- **A 옵션** - 단일 EC2 인스턴스 사용으로 확장성과 가용성 부족, 대용량 처리 시 병목 발생
- **C 옵션** - 실시간 스트리밍 데이터 수집 능력 부족, 복잡한 필터링 로직 처리 불가
- **D 옵션** - 데이터 변환 및 필터링 단계 누락, Analytics나 Lambda 없이는 비즈니스 로직 처리 불가능
# 네트워크 보안의 7계층 완벽 가이드: IPsec vs SSL/TLS 차이점까지

네트워크 보안을 이해하려면 OSI 7계층 모델을 알아야 합니다. 각 계층마다 고유한 보안 위협과 대응 방법이 있기 때문입니다. 특히 클라우드 환경에서 보안 아키텍처를 설계할 때, 어느 계층에서 어떤 보안 기술을 적용할지 아는 것이 중요합니다.

## OSI 7계층과 보안 기술 매핑

### Layer 1: 물리 계층 - 기초 중의 기초
**무엇을 다루나요?**
전기 신호, 광섬유, 무선 신호 등 물리적인 데이터 전송을 담당합니다.

**보안의 핵심**
누군가가 케이블을 자르거나 서버실에 침입하는 것을 막는 것입니다. 마치 은행 금고의 물리적 보안과 같습니다.

**보안 기술**
- 데이터센터 물리적 보안 (출입 통제, CCTV)
- 케이블 암호화
- 물리적 격리 (Air-gapped 네트워크)

### Layer 2: 데이터링크 계층 - 스위치의 세계
**무엇을 다루나요?**
MAC 주소를 이용한 프레임 전송과 스위칭을 담당합니다. 같은 네트워크 내에서 컴퓨터들이 서로 찾아가는 방법을 관리합니다.

**보안의 핵심**
"누가 우리 네트워크에 연결되어 있는가?"를 확인하고 제어하는 것입니다. 마치 아파트 동네에서 누가 우리 동네 사람인지 확인하는 것과 같습니다.

**보안 기술**
- **802.1X**: 네트워크 접근 제어 - "신분증을 보여주세요"
- **MACsec**: MAC 계층 암호화 - 동네 내 대화 암호화
- 포트 보안 및 VLAN 분리 - 구역별 출입 제한

### Layer 3: 네트워크 계층 - IPsec의 영역 🔥
**무엇을 다루나요?**
IP 주소를 이용한 패킷 라우팅과 경로 선택을 담당합니다. 서로 다른 네트워크 간의 통신을 가능하게 합니다.

**보안의 핵심**
"어떤 경로로 데이터를 보낼 것인가?"와 "그 경로가 안전한가?"를 결정하는 것입니다. 마치 다른 도시로 가는 고속도로에서 안전한 통행을 보장하는 것과 같습니다.

**보안 기술**
- **IPsec**: 가장 강력한 네트워크 계층 보안 - "안전한 터널"
- 네트워크 방화벽 - "검문소"
- MPLS VPN - "전용 고속도로"

**IPsec의 핵심 개념**
인터넷이라는 공공도로에 암호화된 터널을 만들어서, 마치 전용도로처럼 안전하게 데이터를 전송하는 기술입니다.

### Layer 4: 전송 계층 - 포트의 관문
**무엇을 다루나요?**
TCP/UDP 프로토콜과 포트 번호를 이용한 데이터 전송을 담당합니다. 데이터가 정확하게 전달되도록 보장합니다.

**보안의 핵심**
"어떤 문(포트)을 열어둘 것인가?"를 결정하는 것입니다. 마치 건물의 각 출입구를 관리하는 것과 같습니다.

**보안 기술**
- 포트 기반 방화벽 - "특정 문만 열어두기"
- 로드밸런서 보안 - "교통 정리"
- DDoS 방어 - "몰려드는 가짜 방문객 차단"

### Layer 5: 세션 계층 - 연결의 관리자
**무엇을 다루나요?**
세션 생성, 관리, 종료를 담당합니다. 통신하는 양쪽이 서로를 인식하고 대화를 이어갈 수 있게 합니다.

**보안의 핵심**
"누가 얼마나 오래 연결되어 있을 수 있는가?"를 관리하는 것입니다. 마치 도서관에서 열람실 이용 시간을 관리하는 것과 같습니다.

**보안 기술**
- 세션 관리 및 타임아웃 - "일정 시간 후 자동 로그아웃"
- 토큰 기반 인증 - "입장권 확인"
- 다중 인증 (MFA) - "이중 신분 확인"

### Layer 6: 표현 계층 - 데이터 변환소
**무엇을 다루나요?**
데이터 형식 변환, 압축, 암호화를 담당합니다. 서로 다른 시스템이 같은 언어로 대화할 수 있게 해줍니다.

**보안의 핵심**
"데이터 자체를 어떻게 안전하게 만들 것인가?"에 집중합니다. 마치 중요한 문서를 암호로 작성하는 것과 같습니다.

**보안 기술**
- 데이터 암호화/복호화 - "비밀 코드로 변환"
- 디지털 서명 - "위조 방지 도장"
- 데이터 압축 보안 - "압축할 때도 안전하게"

### Layer 7: 응용 계층 - 사용자와의 접점 🔥
**무엇을 다루나요?**
HTTP, HTTPS, FTP, SMTP 등 애플리케이션 프로토콜을 담당합니다. 사용자가 직접 사용하는 프로그램들이 동작하는 계층입니다.

**보안의 핵심**
"사용자가 실제로 사용하는 서비스가 안전한가?"를 확인하는 것입니다. 마치 은행 창구에서 본인 확인을 하고 거래하는 것과 같습니다.

**보안 기술**
- **SSL/TLS**: 가장 널리 사용되는 암호화 - "안전한 대화방"
- WAF (Web Application Firewall) - "웹사이트 경비원"
- API 보안 - "프로그램 간 안전한 대화"

**SSL/TLS의 핵심 개념**
웹브라우저와 웹사이트 사이에 암호화된 통신 터널을 만드는 기술입니다. 주소창의 자물쇠 아이콘이 바로 이것입니다.

## IPsec vs SSL/TLS: 핵심 차이점

두 기술의 가장 큰 차이점은 **"어느 계층에서 보안을 적용하느냐"** 입니다.

### 동작 계층의 차이
```
애플리케이션    [SSL/TLS 여기서 작동] ← 특정 프로그램만
전송
네트워크      [IPsec 여기서 작동]    ← 모든 통신을
데이터링크
물리
```

### IPsec (Layer 3) - 전체 네트워크 보안
**작동 방식**
네트워크 자체에 보안 터널을 만들어서, 그 터널을 지나는 모든 데이터가 자동으로 보호됩니다.

**장점**
- 한 번 설정하면 모든 프로그램이 자동으로 보안 적용
- 사용자나 프로그램이 신경 쓸 필요 없음
- 네트워크 전체를 하나의 안전한 공간으로 만듦

**단점**
- 설정이 복잡하고 전문 지식 필요
- 문제가 생기면 전체 통신에 영향

**언제 사용하나요?**
- 회사 본사와 지사를 연결할 때
- 전체 네트워크를 안전하게 보호해야 할 때
- 여러 프로그램이 모두 보안이 필요할 때

### SSL/TLS (Layer 7) - 특정 애플리케이션 보안
**작동 방식**
각 프로그램(웹브라우저, 이메일 등)이 개별적으로 보안 연결을 만듭니다.

**장점**
- 설정과 사용이 쉬움
- 웹브라우저에서 자동으로 지원
- 프로그램별로 세밀한 보안 설정 가능

**단점**
- 프로그램마다 따로 보안을 적용해야 함
- 보안이 적용되지 않은 프로그램은 여전히 위험

**언제 사용하나요?**
- 웹사이트 접속할 때 (HTTPS)
- 이메일 보낼 때
- 특정 프로그램 간 통신할 때

## 실제 상황에서의 선택

### "회사 전체 네트워크를 보호하고 싶다면?"
→ **IPsec 선택**
모든 직원의 모든 프로그램이 자동으로 보안 적용됩니다.

### "웹사이트만 안전하게 만들고 싶다면?"
→ **SSL/TLS 선택**  
간단하고 빠르게 웹사이트에 보안을 적용할 수 있습니다.

### "둘 다 함께 사용하면?"
→ **최고의 보안**
네트워크 전체는 IPsec으로, 개별 애플리케이션은 SSL/TLS로 이중 보안을 구축할 수 있습니다.

결국 IPsec과 SSL/TLS는 경쟁 관계가 아니라 **서로 다른 목적을 가진 보완적인 기술**입니다. 네트워크 전체의 안전을 위해서는 IPsec을, 특정 서비스의 안전을 위해서는 SSL/TLS를 선택하면 됩니다.